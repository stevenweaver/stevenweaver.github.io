(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a.p+"assets/img/454_unc.68974650.png"},153:function(e,t,a){e.exports=a.p+"assets/img/illumina_unc.17517e3a.png"},154:function(e,t,a){e.exports=a.p+"assets/img/illumina_species.b9b1c66e.png"},155:function(e,t,a){e.exports=a.p+"assets/img/454_filter.bbd8c367.png"},156:function(e,t,a){e.exports=a.p+"assets/img/illumina_filter.20b13378.png"},157:function(e,t,a){e.exports=a.p+"assets/img/454_results.c87c994c.png"},158:function(e,t,a){e.exports=a.p+"assets/img/illumina_results.38acc8b5.png"},174:function(e,t,a){"use strict";a.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"using-kraken-on-galaxy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-kraken-on-galaxy","aria-hidden":"true"}},[this._v("#")]),this._v(" Using Kraken on Galaxy")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"brief-introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#brief-introduction","aria-hidden":"true"}},[this._v("#")]),this._v(" Brief Introduction")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"selecting-metagenomic-data-for-use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#selecting-metagenomic-data-for-use","aria-hidden":"true"}},[this._v("#")]),this._v(" Selecting Metagenomic Data for Use")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Under the "),t("code",[this._v("Project Data Type")]),this._v(" menu, select "),t("code",[this._v("Metagenome")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"using-kraken-on-galaxy-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-kraken-on-galaxy-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Using Kraken on Galaxy")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[e._v("Create a new history and rename it to Metagenomic Analysis")]),a("li",[e._v("Click "),a("code",[e._v("Extract reads (FASTQ)")]),e._v(' on the left hand side under NCBI SRA Tools. If you have trouble finding it, you can always search for it in the "search tools" section.')]),a("li",[e._v("Once you have retrieved your reads from NCBI SRA, rename them on the right hand side so that you don't confuse yourself later. If you don't, please google HXB2 contamination to see what happens when you are careless about labeling.")]),a("li",[e._v("Under "),a("code",[e._v("Metagenomic Analysis")]),e._v(", select "),a("code",[e._v("Kraken")]),e._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Since we are looking at hot spring data, we are most likely interested in bacterial diversity.")]),t("li",[this._v("We will select the quick operation due to the minimal loss in sensitivity for greatly increased gain in speed.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"kraken-report-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kraken-report-tool","aria-hidden":"true"}},[this._v("#")]),this._v(" Kraken Report Tool")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Click the search field on the left hand side of Galaxy")]),t("li",[this._v('Search "kraken-report"')]),t("li",[this._v("Select the Kraken output you wish to receive a report for")]),t("li",[this._v("Run and profit")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Let's take a look at the top hits\n"),t("img",{attrs:{src:a(158),alt:"Illumina Results"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Percentage of reads covered by the clade rooted at this taxon")]),t("li",[this._v("Number of reads covered by the clade rooted at this taxon")]),t("li",[this._v("Number of reads assigned directly to this taxon")]),t("li",[this._v("A rank code, indicating (U)nclassified, (D)omain, (K)ingdom, (P)hylum, (C)lass, (O)rder, (F)amily, (G)enus, or (S)pecies. All other ranks are simply '-'.")]),t("li",[this._v("NCBI taxonomy ID")]),t("li",[this._v("indented scientific name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("454 Results\n"),t("img",{attrs:{src:a(157),alt:"454 Results"}}),this._v("\nWith the 454 dataset, we see that Kraken was able to classify 97.17% as Sulfolobus tokodaii str. 7.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"kraken-filtering-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kraken-filtering-options","aria-hidden":"true"}},[this._v("#")]),this._v(" Kraken Filtering Options")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Click the search field on the left hand side of Galaxy")]),t("li",[this._v('Search "kraken-filter"')]),t("li",[this._v("Select the original Kraken dataset")]),t("li",[this._v("Run kraken-report on resulting filtered dataset")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Notice that the results are not as granular, and that we lose quite a bit of classification, by setting the filtering score to .2\n"),t("img",{attrs:{src:a(156),alt:"Illumina Filter"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Filtering on 454 data isn't as drastic, but it is still substantial\n"),t("img",{attrs:{src:a(155),alt:"454 Filter"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:a(154),alt:"Illumina Species"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("And if we sort by Family (please note you want to sort by the "),t("em",[this._v("second")]),this._v(" column)\n")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"questions-to-ponder"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#questions-to-ponder","aria-hidden":"true"}},[this._v("#")]),this._v(" Questions to Ponder")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"the-importance-of-knowing-the-source-of-your-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-importance-of-knowing-the-source-of-your-data","aria-hidden":"true"}},[this._v("#")]),this._v(" The importance of knowing the source of your data")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Please note that this conclusion is "),t("em",[this._v("not")]),this._v(" universal, and it depends on the\n"),t("em",[this._v("context")]),this._v(" of the experiment you are conducting. Despite increased depth with 16s\nsequencing, the researcher is potentially sacrificing signal in detecting a\nwider range of bacterial diversity. I urge the reader to read journal\npublications discussing the strengths and limitations of both methods.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"additional-kraken-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#additional-kraken-parameters","aria-hidden":"true"}},[this._v("#")]),this._v(" Additional Kraken Parameters")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Illumina Wrong Reference Database\n"),t("img",{attrs:{src:a(153),alt:"Illumina Filter"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("454 Wrong Reference Database\n"),t("img",{attrs:{src:a(152),alt:"454 Filter"}})])}],i=a(0),s=Object(i.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),e._m(1),a("p",[e._v("Today, we will introduce Kraken, a tool for metagenomic classification. Kraken\nattempts to address the speed performance shortcomings of BLAST, and the\nsensitivity shortcomings of MetaPhlAn. In order to focus on the application\nitself instead of potential installation and configuration hurdles, we will be\nusing Galaxy to conduct this tutorial.")]),a("p",[e._v("To begin, we will find datasets from two different sequencing platforms, one from\n454, and another from Illumina. NCBI BioProject and NCBI SRA, a sequence read data archive,\nare practical resources to use for obtaining metagenomic, among other, data.")]),e._m(2),a("ol",[a("li",[e._v("In your favorite web browser (preferably one that respects your privacy and digital freedom), navigate to the "),a("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/bioproject/browse/",target:"_blank",rel:"noopener noreferrer"}},[e._v("BioProject Browse Page"),a("OutboundLink")],1),e._v(".")]),e._m(3),a("li",[e._v("The author of this tutorial is not particularly anthroprocentric, and does enjoy relaxation, so let us choose the hot springs metagenome project.")]),a("li",[e._v("In order to give us more flexibility in selecting runs to use, let us use the parent project PRJNA20821")])]),a("p",[e._v("We will use the following datasets for the rest of the tutorial.")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/sra/SRX1499016%5Baccn%5D",target:"_blank",rel:"noopener noreferrer"}},[e._v("SRR3050168 Illumina WGS Run"),a("OutboundLink")],1)]),a("li",[a("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/sra/SRX1458051%5Baccn%5D",target:"_blank",rel:"noopener noreferrer"}},[e._v("SRR2968624 16s 454 Run"),a("OutboundLink")],1)])]),e._m(4),e._m(5),e._m(6),e._m(7),a("p",[e._v("The raw output from Kraken is a bit unwieldy to work with, so we will want to\nuse tools like Kraken Report.")]),e._m(8),e._m(9),a("p",[e._v("First, we must be able to interpret each column")]),e._m(10),a("p",[e._v("We can see that of the species classified, 228210 were Alteromonas macleodii str. 'Ionian Sea U8'.\n599478 was not classified at all.")]),e._m(11),e._m(12),a("p",[e._v("We can also use Kraken filtering options select the most abundant classifications according to rank code.")]),e._m(13),a("p",[e._v("Kraken filters using scores. A sequence label's score is a fraction C/Q, where C\nis the number of k-mers mapped to LCA values in the clade rooted at the label,\nand Q is the number of k-mers in the sequence that lack an ambiguous nucleotide\n(i.e., they were queried against the database).")]),e._m(14),e._m(15),a("p",[e._v("If we elect to filter and sort data using Galaxy, we can use filter based on\ncolumn 4 (the rank code), and then select sort on number of reads covered by the\nclade rooted at the taxon. An example using species on the Illumina dataset is\nshown below:")]),e._m(16),e._m(17),a("p",[e._v("I do not have a screenshot of this due to the Galaxy site being unavailable on\nTuesday 20170509.")]),e._m(18),e._m(19),a("p",[e._v("One question that we must keep in mind when doing metagenomic analysis is what\nsort of machine and method was used to sequence the data in the first place. We\ncan see how much more successful Kraken was at identifying the 16S results. This\nis because the 16S rRNA gene is highly conserved across different species of\nbacteria and archaea.")]),e._m(20),e._m(21),a("p",[e._v("Please consider the Kraken database you select when using the application.\nNotice that you will not classify data accurately at all if you are using the\nwrong database.")]),e._m(22),e._m(23),a("p",[e._v("Unfortunately, Galaxy does not report how long each job takes, so we cannot\ncompare the times between the quick operation and Kraken original. We can,\nhowever, notice that the classification difference is minimal. If you are in a\nrush, you may want to choose the quick operation for little cost in sensitivity.")])])},n,!1,null,null,null);t.default=s.exports}}]);